@url = http://localhost:3000
@contentType = application/json

### ========================================
### 1. ã€å¢ã€‘åˆ›å»ºä»»åŠ¡ (å¿…é¡»å…ˆè·‘è¿™ä¸ªï¼Œä¸ç„¶åˆ—è¡¨æ˜¯ç©ºçš„)
### ========================================
POST {{url}}/todos
Content-Type: {{contentType}}

{
  "title": "æµ‹è¯• tsx åç«¯æ¥å£ ğŸš€"
}

### ========================================
### 2. ã€æŸ¥ã€‘è·å–ä»»åŠ¡åˆ—è¡¨ (åˆ†é¡µ)
### ========================================
GET {{url}}/todos?page=1&pageSize=10
Content-Type: {{contentType}}

### ========================================
### 3. ã€æŸ¥ã€‘å¸¦å…³é”®å­—æœç´¢
### ========================================
GET {{url}}/todos?keyword=tsx
Content-Type: {{contentType}}

### ========================================
### 4. ã€åˆ ã€‘åˆ é™¤ä»»åŠ¡ (æ³¨æ„ï¼šè¯·æŠŠ 1 æ¢æˆä½ å®é™…ç”Ÿæˆçš„ ID)
### ========================================
DELETE {{url}}/todos/1
Content-Type: {{contentType}}

### ========================================
### 5. ã€æ¸…ç©ºã€‘æ¸…é™¤æ‰€æœ‰å·²å®Œæˆä»»åŠ¡ (æ‰©å±•åŠŸèƒ½)
### ========================================
POST {{url}}/todos/clear
Content-Type: {{contentType}}


### ========================================
### 2. ã€ç™»å½•ã€‘(æ ¸å¿ƒæ­¥éª¤ï¼)
### æ³¨æ„ä¸Šé¢çš„ @nameï¼Œå®ƒè®©æˆ‘ä»¬å¯ä»¥å¼•ç”¨è¿™ä¸ªè¯·æ±‚çš„å“åº”ç»“æœ
### ========================================
# @name loginRequest
POST {{url}}/auth/login
Content-Type: {{contentType}}

{
  "username": "admin01",
  "password": "123456"
}

### ========================================
### 1. ã€æ³¨å†Œã€‘(å¦‚æœæç¤ºç”¨æˆ·åå·²å­˜åœ¨ï¼Œè¯·ä¿®æ”¹ username)
### ========================================
POST {{url}}/auth/register
Content-Type: {{contentType}}

{
  "username": "admin01",
  "password": "123456",
  "nickname": "è¶…çº§ç®¡ç†å‘˜"
}



### ========================================
### â¬‡ï¸ å˜é‡è‡ªåŠ¨æ•è· (Magic) â¬‡ï¸
### ä»ä¸Šé¢çš„ loginRequest å“åº”ä¸­æå– token
### ========================================
@token = {{loginRequest.response.body.data.token}}


### ========================================
### 3. ã€æµ‹è¯•é‰´æƒå¤±è´¥ã€‘(ä¸å¸¦ Token è®¿é—®)
### é¢„æœŸç»“æœï¼š401 Unauthorized
### ========================================
GET {{url}}/auth/info
Content-Type: {{contentType}}


### ========================================
### 4. ã€æµ‹è¯•é‰´æƒæˆåŠŸã€‘(è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯)
### è¿™é‡Œçš„ Authorization å¤´æ˜¯è‡ªåŠ¨å¡«å……çš„
### ========================================
GET {{url}}/auth/info
Authorization: Bearer {{token}}
Content-Type: {{contentType}}


### ========================================
### 5. ã€ä¸šåŠ¡ã€‘æ–°å¢ Todo (å¸¦ Token)
### ========================================
POST {{url}}/todos
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "title": "æµ‹è¯• JWT é‰´æƒé€šè¿‡ ğŸ”",
  "icon": "ğŸ›¡ï¸"
}


### ========================================
### 6. ã€ä¸šåŠ¡ã€‘è·å– Todo åˆ—è¡¨ (å¸¦ Token)
### ========================================
GET {{url}}/todos?page=1&pageSize=5
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

### ========================================
### â¬‡ï¸â¬‡ï¸â¬‡ï¸ ç³»ç»Ÿç®¡ç†ï¼šèœå•æ¨¡å— â¬‡ï¸â¬‡ï¸â¬‡ï¸
### ========================================

### 1. ã€å¢ã€‘åˆ›å»ºä¸€çº§èœå• "ç³»ç»Ÿç®¡ç†"
POST {{url}}/sys/menu/add
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "parentId": null,
  "title": "ç³»ç»Ÿç®¡ç†",
  "path": "/system",
  "icon": "setting",
  "type": 1,
  "sort": 1
}

### 2. ã€å¢ã€‘åˆ›å»ºäºŒçº§èœå• "èœå•ç®¡ç†" (å‡è®¾ä¸Šé¢åˆ›å»ºçš„ ID æ˜¯ 1)
### æ³¨æ„ï¼šå®é™…è¿è¡Œå‰ï¼Œè¯·æŠŠ parentId æ”¹æˆä¸Šé¢è¿”å›çš„çœŸå® ID
POST {{url}}/sys/menu/add
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "parentId": 1,
  "title": "èœå•æƒé™",
  "path": "/system/menu",
  "component": "/system/menu/index",
  "type": 2,
  "sort": 1
}

### 3. ã€å¢ã€‘åˆ›å»ºæŒ‰é’®æƒé™ "æ–°å¢èœå•" (å‡è®¾äºŒçº§èœå• ID æ˜¯ 2)
POST {{url}}/sys/menu/add
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "parentId": 2,
  "title": "æ–°å¢",
  "perms": "sys:menu:add",
  "type": 3
}

### 4. ã€æŸ¥ã€‘è·å–èœå•æ ‘ (çœ‹çœ‹æ˜¯ä¸æ˜¯å±‚çº§ç»“æ„)
GET {{url}}/sys/menu/list
Authorization: Bearer {{token}}


### ========================================
### â¬‡ï¸â¬‡ï¸â¬‡ï¸ ç³»ç»Ÿç®¡ç†ï¼šè§’è‰²æ¨¡å— (Javaé£æ ¼) â¬‡ï¸â¬‡ï¸â¬‡ï¸
### ========================================

### 1. ã€åˆ—è¡¨ã€‘æŸ¥è¯¢è§’è‰²åˆ—è¡¨
POST {{url}}/sys/role/list
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "page": 1,
  "pageSize": 10,
  "name": "" 
}

### 2. ã€æ–°å¢ã€‘åˆ›å»º "è¶…çº§ç®¡ç†å‘˜"
POST {{url}}/sys/role/add
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "name": "admin",
  "description": "æ‹¥æœ‰æœ€é«˜æƒé™"
}

### 3. ã€æ–°å¢ã€‘åˆ›å»º "æ™®é€šå‘˜å·¥"
POST {{url}}/sys/role/add
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "name": "staff",
  "description": "ä»…æŸ¥çœ‹æƒé™"
}

### 4. ã€åˆ†é…æƒé™ã€‘ç»™ "æ™®é€šå‘˜å·¥" åˆ†é…èœå•
### å‡è®¾ "æ™®é€šå‘˜å·¥" ID=2ï¼Œèœå• ID=[1, 2] (è¯·æ ¹æ®å®é™…æ•°æ®åº“IDä¿®æ”¹)
POST {{url}}/sys/role/assignPerms
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "roleId": 2,
  "menuIds": [1, 2]
}

### 5. ã€å›æ˜¾ã€‘æŸ¥çœ‹ "æ™®é€šå‘˜å·¥" æœ‰å“ªäº›èœå•
POST {{url}}/sys/role/getPerms
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "roleId": 2
}

### 6. ã€åˆ é™¤ã€‘åˆ é™¤è§’è‰²
POST {{url}}/sys/role/delete
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "id": 3
}


### ========================================
### â¬‡ï¸â¬‡ï¸â¬‡ï¸ ç³»ç»Ÿç®¡ç†ï¼šç”¨æˆ·æ¨¡å— â¬‡ï¸â¬‡ï¸â¬‡ï¸
### ========================================

### 1. ã€åˆ—è¡¨ã€‘æŸ¥è¯¢æ‰€æœ‰ç”¨æˆ· (å¸¦å…³è”ä¿¡æ¯)
POST {{url}}/sys/user/list
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "page": 1,
  "pageSize": 10
}

### 2. ã€åˆ†é…è§’è‰²ã€‘æŠŠ "admin01" (ID=1) è®¾ç½®ä¸º "è¶…çº§ç®¡ç†å‘˜" (ID=1)
### è¯·ç¡®ä¿ä½ çš„æ•°æ®åº“é‡Œè§’è‰² ID æ˜¯å­˜åœ¨çš„
POST {{url}}/sys/user/assignRoles
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "userId": 1,
  "roleIds": [1]
}



### ========================================
### â¬‡ï¸â¬‡ï¸â¬‡ï¸ ç³»ç»Ÿç®¡ç†ï¼šéƒ¨é—¨æ¨¡å— â¬‡ï¸â¬‡ï¸â¬‡ï¸
### ========================================

### 1. ã€æ–°å¢ã€‘åˆ›å»ºæ ¹éƒ¨é—¨ "æ€»å…¬å¸" (managerId æ˜¯ç”¨æˆ·çš„ ID)
POST {{url}}/sys/dept/add
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "parentId": null,
  "name": "Todo-Think æ€»éƒ¨",
  "managerId": 1, 
  "sort": 1
}

### 2. ã€æ–°å¢ã€‘åˆ›å»ºå­éƒ¨é—¨ "ç ”å‘éƒ¨" (parentId æ˜¯æ€»å…¬å¸çš„ IDï¼Œå‡è®¾æ˜¯ 1)
POST {{url}}/sys/dept/add
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "parentId": 1,
  "name": "ç ”å‘ä¸­å¿ƒ",
  "sort": 1
}

### 3. ã€åˆ—è¡¨ã€‘æŸ¥çœ‹éƒ¨é—¨æ ‘ (æ³¨æ„è§‚å¯Ÿ manager ä¿¡æ¯)
POST {{url}}/sys/dept/tree
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{}

### 4. ã€è°ƒåŠ¨ã€‘æŠŠ ID ä¸º 2 çš„ç”¨æˆ·åŠ å…¥åˆ° "ç ”å‘ä¸­å¿ƒ" (å‡è®¾éƒ¨é—¨IDæ˜¯ 2)
POST {{url}}/sys/dept/addEmployee
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "deptId": 2,
  "userIds": [2]
}

### 5. ã€æŸ¥è¯¢ã€‘æŸ¥çœ‹ "ç ”å‘ä¸­å¿ƒ" æœ‰å“ªäº›äºº
POST {{url}}/sys/dept/employees
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "deptId": 2,
  "page": 1,
  "pageSize": 10
}

### 6. ã€ç§»é™¤ã€‘æŠŠ ID ä¸º 2 çš„ç”¨æˆ·è¸¢å‡ºéƒ¨é—¨
POST {{url}}/sys/dept/removeEmployee
Authorization: Bearer {{token}}
Content-Type: {{contentType}}

{
  "userIds": [2]
}